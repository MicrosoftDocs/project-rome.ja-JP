### <a name="associate-the-connected-devices-platform-with-the-native-push-notification-for-each-platform"></a><span data-ttu-id="81ece-101">接続されているデバイス プラットフォームを各プラットフォームのネイティブ プッシュ通知に関連付けます。</span><span class="sxs-lookup"><span data-stu-id="81ece-101">Associate the Connected Devices Platform with the native push notification for each platform.</span></span> 

<span data-ttu-id="81ece-102">ようにアプリのクライアントは既に触れましたが、各クライアント側の SDK プラットフォームとデバイスの接続されているプラットフォームのグラフを許可するには、登録プロセス中に使用されているネイティブのプッシュ通知のパイプラインに関する知識を提供する必要がありますアプリケーション サーバーは、MS Graph Api を使用してユーザーを対象とした通知を発行するときのアプリのクライアント エンドポイントは各にファンアウト通知を通知サービス。</span><span class="sxs-lookup"><span data-stu-id="81ece-102">Like previously mentioned, the app clients need to provide knowledge about the native push notification pipeline being used for each platform to the client-side SDK and the Connected Devices Platform during the registration process, in order to allow Graph notification service to fan-out notifications to each app client endpoint when your app server publishes a user-targeting notification via MS Graph APIs.</span></span>
<span data-ttu-id="81ece-103">上記の手順で、初期化せず、プラットフォーム**NotificationProvider**パラメーター。</span><span class="sxs-lookup"><span data-stu-id="81ece-103">In the steps above, you initialized the Platform without **NotificationProvider** parameter.</span></span> <span data-ttu-id="81ece-104">ここでは、作成して実装するオブジェクトで渡す必要があります**NotificationProvider**します。</span><span class="sxs-lookup"><span data-stu-id="81ece-104">Here, you need to construct and pass in an object that implements **NotificationProvider**.</span></span> <span data-ttu-id="81ece-105">参照してください**GraphNotificationProvider.cs**の詳細についてはサンプルです。</span><span class="sxs-lookup"><span data-stu-id="81ece-105">Please see **GraphNotificationProvider.cs** from sample for details.</span></span> 



<span data-ttu-id="81ece-106">実装でこの登録を配信**NotificationProvider**します。</span><span class="sxs-lookup"><span data-stu-id="81ece-106">Deliver this registration in your implementation of **NotificationProvider**.</span></span> <span data-ttu-id="81ece-107">次に、**プラットフォーム**初期化呼び出しがローカルに提供する必要があります**プラットフォーム**プッシュ通知サービスにアクセスできる、MS Graph の通知サーバー側からデータを受信するアプリを許可します。</span><span class="sxs-lookup"><span data-stu-id="81ece-107">Then, the **Platform** initialization call should provide the local **Platform** with access to the push notification service, allowing your app to receive data from the MS Graph Notifications server-side.</span></span> 

### <a name="pass-incoming-push-notifications-to-the-client-sdk"></a><span data-ttu-id="81ece-108">クライアント SDK にプッシュ通知の受信を渡す</span><span class="sxs-lookup"><span data-stu-id="81ece-108">Pass incoming push notifications to the client SDK</span></span>
<span data-ttu-id="81ece-109">ここで、PushNotificationTrigger、または、リスナーのでネイティブのバック グラウンド タスクが登録されている Windows 内で受信 UserNotification ペイロードを処理できる、 [PushNotificationReceived イベント](https://docs.microsoft.com/en-us/uwp/api/windows.networking.pushnotifications.pushnotificationchannel.pushnotificationreceived)します。</span><span class="sxs-lookup"><span data-stu-id="81ece-109">Now, you can handle incoming UserNotification payload inside the Windows native background task registered with PushNotificationTrigger, or in your listner of the [PushNotificationReceived event](https://docs.microsoft.com/en-us/uwp/api/windows.networking.pushnotifications.pushnotificationchannel.pushnotificationreceived).</span></span> 

<span data-ttu-id="81ece-110">コンプライアンス、セキュリティ、潜在的な最適化などの理由から、グラフの通知サーバー側から受信した WNS 生通知に最初に、アプリ サーバーによって公開されたデータは含まれませんが、ショルダー タップ可能性があります多くの場合。</span><span class="sxs-lookup"><span data-stu-id="81ece-110">For reasons including compliance, security, and potential optimizations, the incoming WNS raw notification coming from Graph Notifications server-side could often be a shoulder tap which doesn’t contain any data that is initially published by the app server.</span></span> <span data-ttu-id="81ece-111">アプリ サーバーによって発行された実際の通知コンテンツの取得は、クライアント側 SDK の Api の背後に表示されません。</span><span class="sxs-lookup"><span data-stu-id="81ece-111">The retrieval of the actual notification content published by app server is hidden behind client-side SDK APIs.</span></span> <span data-ttu-id="81ece-112">この場合、SDK は常に、SDK に着信 WNS 生の通知ペイロードを渡すアプリ クライアントを確認します。</span><span class="sxs-lookup"><span data-stu-id="81ece-112">In this case, the SDK always asks the app client to pass the incoming WNS raw notification payload to the SDK.</span></span> <span data-ttu-id="81ece-113">これにより、これはグラフの通知シナリオを通知するかどうか、またはしない場合に WNS 未加工のプッシュは、他の目的で、アプリのクライアントによっても使用できます) を決定する SDK ができます。</span><span class="sxs-lookup"><span data-stu-id="81ece-113">This allows the SDK to determine whether this is a notification for Graph Notifications scenarios or not (in case WNS raw push can also be used by the app client for other purposes).</span></span> 
