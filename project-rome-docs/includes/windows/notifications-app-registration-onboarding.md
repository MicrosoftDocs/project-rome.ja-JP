---
ms.openlocfilehash: 8e259cf4bd303a51165868fe0aa6d2a062f52c76
ms.sourcegitcommit: e95423df0e4427377ab74dbd12b0056233181d32
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/14/2019
ms.locfileid: "58907394"
---
### <a name="msa-and-aad-authentication-registration"></a><span data-ttu-id="5a86b-101">MSA および AAD 認証登録</span><span class="sxs-lookup"><span data-stu-id="5a86b-101">MSA and AAD Authentication Registration</span></span>

<span data-ttu-id="5a86b-102">Microsoft アカウント (MSA) または Azure Active Directory (AAD) 認証登録は、近距離共有 API を除いた、通知を含む SDK のすべての機能に必要です。</span><span class="sxs-lookup"><span data-stu-id="5a86b-102">Microsoft Account (MSA) or Azure Active Directory (AAD) authentication registration is required for all features of the SDK including Notifications, except for the Nearby sharing APIs.</span></span> 

<span data-ttu-id="5a86b-103">MSA をまだ所有しておらず、使用したい場合は、[account.microsoft.com](https://account.microsoft.com/account) で登録してください。</span><span class="sxs-lookup"><span data-stu-id="5a86b-103">If you do not already have an MSA and wish to use one, register on [account.microsoft.com](https://account.microsoft.com/account).</span></span>

<span data-ttu-id="5a86b-104">次に、ユーザー用の認証および ID フレームワークとして MSA を使用している場合、[アプリケーション登録ポータル](https://apps.dev.microsoft.com/)の指示に従って、アプリを Microsoft に登録する必要があります (Microsoft 開発者アカウントを所有していない場合は、最初に作成する必要があります)。</span><span class="sxs-lookup"><span data-stu-id="5a86b-104">Next, if you are using MSA as the authentication and identity framework for your users, you must register your app with Microsoft by following the instructions on the [Application Registration Portal](https://apps.dev.microsoft.com/) (if you do not have a Microsoft developer account, you must create one first).</span></span> <span data-ttu-id="5a86b-105">アプリのクライアント ID 文字列が届くはずです。必ず、場所を覚えておくか保存しておいてください。</span><span class="sxs-lookup"><span data-stu-id="5a86b-105">You should receive a client ID string for your app; make sure to remember the location or save this.</span></span> <span data-ttu-id="5a86b-106">これは後で Graph 通知のオンボーディング中に使用されます。</span><span class="sxs-lookup"><span data-stu-id="5a86b-106">Later this will be used during Graph Notifications onboarding.</span></span> <span data-ttu-id="5a86b-107">次に示すように、MSA 認証を使用するアプリは Live SDK アプリケーションとして登録する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="5a86b-107">Note that an app using MSA authentication needs to be registered as a Live SDK application as shown below.</span></span>
<span data-ttu-id="5a86b-108">![アプリケーション登録ポータル](../../notifications/media/msa_app_registration/app_registration_portal.png)</span><span class="sxs-lookup"><span data-stu-id="5a86b-108">![Application Registration Portal](../../notifications/media/msa_app_registration/app_registration_portal.png)</span></span>

<span data-ttu-id="5a86b-109">職場アカウントまたは学校アカウントの認証および ID フレームワークとして AAD を使用するアプリを作成している場合は、次に示すように、クライアント ID を取得するために [Azure Active Directory 認証ライブラリ](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries)経由でアプリを登録する必要があります。</span><span class="sxs-lookup"><span data-stu-id="5a86b-109">If you're writing an app that uses AAD as work account or school account authentication and identity framework, you must register your app via [Azure Active Directory Authentication Libraries](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) in order to get the client ID, as shown below.</span></span> 
 <span data-ttu-id="5a86b-110">![AAD 登録ポータル](../../notifications/media/aad_registration_portal/aad_registration_portal.png) 新しいアプリ登録を作成するとき、Graph 通知やその他の Connected Devices Platform の機能を使用するために必要なアクセス許可がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="5a86b-110">![AAD Registration Portal](../../notifications/media/aad_registration_portal/aad_registration_portal.png) When creating a new app registration, there are a few permissions required in order to use Graph Notifications and other connected device platform capabilities.</span></span> <span data-ttu-id="5a86b-111">下記を参照してください。</span><span class="sxs-lookup"><span data-stu-id="5a86b-111">Please see below.</span></span> 
<span data-ttu-id="5a86b-112">![AAD 登録ポータル – 設定 – 必要なアクセス許可](../../notifications/media/aad_registration_portal/aad_registration_portal_permissions.png)</span><span class="sxs-lookup"><span data-stu-id="5a86b-112">![AAD Registration Portal – Setting – Required Permissions](../../notifications/media/aad_registration_portal/aad_registration_portal_permissions.png)</span></span>
* <span data-ttu-id="5a86b-113">次に示すように、ユーザーのサインインのアクセス許可を追加します。</span><span class="sxs-lookup"><span data-stu-id="5a86b-113">Add user sign-in permission shown as below.</span></span>
<span data-ttu-id="5a86b-114">![必要なアクセス許可 – AAD ユーザー プロファイル](../../notifications/media/aad_registration_portal/permissions_1_user.png)</span><span class="sxs-lookup"><span data-stu-id="5a86b-114">![Required Permissions – AAD User Profile](../../notifications/media/aad_registration_portal/permissions_1_user.png)</span></span>
* <span data-ttu-id="5a86b-115">次に示すように、デバイス情報に対するコマンド サービスのアクセス許可を追加します。</span><span class="sxs-lookup"><span data-stu-id="5a86b-115">Add Command Service permissions for device information, shown as below.</span></span>
<span data-ttu-id="5a86b-116">![必要なアクセス許可 – デバイス](../../notifications/media/aad_registration_portal/permissions_2_devices.png)</span><span class="sxs-lookup"><span data-stu-id="5a86b-116">![Required Permissions – Devices](../../notifications/media/aad_registration_portal/permissions_2_devices.png)</span></span>
* <span data-ttu-id="5a86b-117">次に示すように、アクティビティ フィード サービス API の下に Graph 通知のアクセス許可を追加します。</span><span class="sxs-lookup"><span data-stu-id="5a86b-117">Add Graph Notifications permission under Activity Feed Service APIs, shown as below.</span></span>
<span data-ttu-id="5a86b-118">![必要なアクセス許可 – デバイス](../../notifications/media/aad_registration_portal/permissions_3_graph_notifications.png)</span><span class="sxs-lookup"><span data-stu-id="5a86b-118">![Required Permissions – Devices](../../notifications/media/aad_registration_portal/permissions_3_graph_notifications.png)</span></span>
* <span data-ttu-id="5a86b-119">最後に、Windows で動作する UWP アプリを含むクロスプラットフォーム アプリケーションを作成している場合は、次に示すように、Windows 通知サービスのアクセス許可を必ず追加してください。</span><span class="sxs-lookup"><span data-stu-id="5a86b-119">At the end, if you are writing cross-platform application including an UWP app running on Windows, make sure to add Windows Notification Service permission, shown as below.</span></span> 
<span data-ttu-id="5a86b-120">![必要なアクセス許可 – WNS](../../notifications/media/aad_registration_portal/permissions_4_wns_push.png)</span><span class="sxs-lookup"><span data-stu-id="5a86b-120">![Required Permissions – WNS](../../notifications/media/aad_registration_portal/permissions_4_wns_push.png)</span></span>
