---
title: インクルード ファイル
description: インクルード ファイル
ms.topic: include
ms.assetid: dc4d7bbd-bc87-42b1-9924-52c7bfcd5b5f
ms.localizationpriority: medium
ms.openlocfilehash: f085486eece082366dddc00d86f0c4959d09a5cf
ms.sourcegitcommit: 75680b384946e11257bb2a33044a3172dec5220e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/02/2019
ms.locfileid: "58907304"
---
### <a name="register-your-app-for-push-notifications"></a><span data-ttu-id="0f996-103">プッシュ通知をアプリを登録します。</span><span class="sxs-lookup"><span data-stu-id="0f996-103">Register your app for push notifications</span></span>

<span data-ttu-id="0f996-104">Google にアプリケーションを登録[Firebase Cloud Messaging](https://firebase.google.com/docs/cloud-messaging/android/client)をサポートします。</span><span class="sxs-lookup"><span data-stu-id="0f996-104">Register your application with Google for [Firebase Cloud Messaging](https://firebase.google.com/docs/cloud-messaging/android/client) support.</span></span> <span data-ttu-id="0f996-105">送信者は受信した ID とサーバーのキーをメモしてください。後で必要があります。</span><span class="sxs-lookup"><span data-stu-id="0f996-105">Be sure to make note of the sender ID and server key that you receive; you'll need them later.</span></span>

<span data-ttu-id="0f996-106">登録されると、接続されているデバイス プラットフォームと、アプリでプッシュ通知機能を関連付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="0f996-106">Once registered, you must associate push notification functionality with the Connected Devices Platform in your app.</span></span>

```Java
mNotificationRegistration = new ConnectedDevicesNotificationRegistration();
mNotificationRegistration.setType(ConnectedDevicesNotificationType.FCM);
mNotificationRegistration.setToken(token);
mNotificationRegistration.setAppId(Secrets.FCM_SENDER_ID);
mNotificationRegistration.setAppDisplayName("SampleApp");
```

### <a name="register-your-app-in-microsoft-windows-dev-center-for-cross-device-experiences"></a><span data-ttu-id="0f996-107">Microsoft Windows デベロッパー センターでのクロス デバイス エクスペリエンスのアプリを登録します。</span><span class="sxs-lookup"><span data-stu-id="0f996-107">Register your app in Microsoft Windows Dev Center for cross-device experiences</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0f996-108">この手順はのみからデータにアクセスしたり、非 Windows デバイスの要求を作成するプロジェクト ローマ機能を使用するかどうかに必要です。</span><span class="sxs-lookup"><span data-stu-id="0f996-108">This step is only required if you want to use Project Rome features to access data from or make requests of non-Windows devices.</span></span> <span data-ttu-id="0f996-109">Windows デバイスのみを対象に場合、この手順を完了する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="0f996-109">If you only target Windows devices, you do not need to complete this step.</span></span>

<span data-ttu-id="0f996-110">Dev Center のダッシュ ボードに移動して、左側にあるナビゲーション ウィンドウで、クロス デバイス エクスペリエンスに移動して次のように示すように、新しいクロス デバイス アプリの構成を選択します。</span><span class="sxs-lookup"><span data-stu-id="0f996-110">Go to Dev Center Dashboard, navigate to Cross-Device Experiences from the left side navigation pane, and select configuring a new cross-device app, shown as below.</span></span>
<span data-ttu-id="0f996-111">![デベロッパー センター ダッシュ ボード-クロス デバイス エクスペリエンス](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span><span class="sxs-lookup"><span data-stu-id="0f996-111">![Dev Center Dashboard – Cross-Device Experiences](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span></span>

<span data-ttu-id="0f996-112">デベロッパー センターで、オンボード プロセスには、次の手順が必要です。</span><span class="sxs-lookup"><span data-stu-id="0f996-112">The Dev Center on-boarding process requires the following steps:</span></span>
* <span data-ttu-id="0f996-113">サポートされているプラットフォームを選択します: アプリが存在する必要があり、クロス デバイス エクスペリエンスを有効にするプラットフォームを選択します。</span><span class="sxs-lookup"><span data-stu-id="0f996-113">Select supported platforms – select the platforms where your app will have a presence and be enabled for cross-device experiences.</span></span> <span data-ttu-id="0f996-114">グラフの通知の統合の場合は、Windows、Android、および iOS から選択できます。</span><span class="sxs-lookup"><span data-stu-id="0f996-114">In the case of Graph Notifications integration, you can select from Windows, Android, and/or iOS.</span></span>
<span data-ttu-id="0f996-115">![クロス デバイス エクスペリエンス: サポートされているプラットフォーム](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span><span class="sxs-lookup"><span data-stu-id="0f996-115">![Cross-Device Experiences – Supported Platforms](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span></span>

* <span data-ttu-id="0f996-116">アプリ Id を提供: 各アプリが、プレゼンスがプラットフォームにアプリ Id を提供します。</span><span class="sxs-lookup"><span data-stu-id="0f996-116">Provide app IDs – provide app IDs for each of the platform where your app has a presence.</span></span> <span data-ttu-id="0f996-117">Android アプリは、これは、プロジェクトを作成したときに、アプリに割り当てたパッケージ名です。</span><span class="sxs-lookup"><span data-stu-id="0f996-117">For Android apps, this is the Package Name you assigned to your app when you created the project.</span></span> <span data-ttu-id="0f996-118">プロジェクトの概要の下、Firebase コンソールで、パッケージ名が見つかりません] [全般]-> [です。</span><span class="sxs-lookup"><span data-stu-id="0f996-118">The Package Name can be found in your Firebase console under Project Overview -> General.</span></span> <span data-ttu-id="0f996-119">プラットフォームごと (最大 10 個) の異なる Id を追加することがあります-これは、同じアプリ、または異なる場合でも、同じユーザーを対象としたアプリケーション サーバーによって送信された同じ通知を受信できるようにアプリの複数のバージョンがある場合、します。</span><span class="sxs-lookup"><span data-stu-id="0f996-119">You may add different IDs (up to ten) per platform – this is in case you have multiple version of the same app, or even different apps, that want to be able to receive the same notifications sent by your app server targeted at the same user.</span></span> 
<span data-ttu-id="0f996-120">![クロス デバイス エクスペリエンス: アプリ Id](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span><span class="sxs-lookup"><span data-stu-id="0f996-120">![Cross-Device Experiences – App IDs](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span></span>

* <span data-ttu-id="0f996-121">指定するか、MSA または AAD アプリの登録からアプリ Id を選択します。</span><span class="sxs-lookup"><span data-stu-id="0f996-121">Provide or select the app IDs from MSA and/or AAD app registrations.</span></span> <span data-ttu-id="0f996-122">MSA または AAD アプリの登録に対応するこれらのクライアント Id は、上記の前の MSA/AAD アプリ登録の手順で取得されました。</span><span class="sxs-lookup"><span data-stu-id="0f996-122">These client IDs corresponding to MSA or AAD app registration were obtained in the previous MSA/AAD app registration steps from above.</span></span> 
<span data-ttu-id="0f996-123">![クロス デバイス エクスペリエンス: MSA と AAD アプリの登録](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span><span class="sxs-lookup"><span data-stu-id="0f996-123">![Cross-Device Experiences – MSA and AAD App Registrations](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span></span>

* <span data-ttu-id="0f996-124">グラフの通知およびその他のデバイス プラットフォームの接続されている機能の各クライアントのエンドポイント、つまり、アプリに通知を送信する WNS (Windows UWP) 用、FCM (Android) 用、および APNS (iOS) 用の主要なプラットフォームでネイティブ通知プラットフォームを活用します.</span><span class="sxs-lookup"><span data-stu-id="0f996-124">Graph Notifications and other Connected Devices Platform capabilities leverage each of the native notification platforms on major platforms to send notifications down to the app client endpoints, namely, WNS (for Windows UWP), FCM (for Android) and APNS (for iOS).</span></span> <span data-ttu-id="0f996-125">これらの通知プラットフォームにユーザーを対象とした通知を発行するときに、アプリ サーバーの通知を配信するグラフの通知を有効にするための資格情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="0f996-125">Provide your credentials for these notification platforms to enable Graph Notifications to deliver the notifications for your app server, when you publish user-targeted notifications.</span></span> <span data-ttu-id="0f996-126">Android では、[クラウド メッセージング サービスを有効にする](https://firebase.google.com/docs/cloud-messaging/android/client)は Microsoft Graph の通知を使用する前提条件です。</span><span class="sxs-lookup"><span data-stu-id="0f996-126">For Android, [enabling the Cloud Messaging service](https://firebase.google.com/docs/cloud-messaging/android/client) is a prerequisite to using Microsoft Graph Notifications.</span></span> <span data-ttu-id="0f996-127">また、注意が必要な送信者 ID が、Firebase Cloud Messaging Sender ID と API キーに対応するは、レガシ サーバー キーに対応します。</span><span class="sxs-lookup"><span data-stu-id="0f996-127">Also, note that the required Sender ID corresponds to the Firebase Cloud Messaging Sender ID, and the API key corresponds to the Legacy Server Key.</span></span> <span data-ttu-id="0f996-128">Firebase コンソールで見つかります両方プロジェクト->-> 設定 の Cloud Messaging タブで、スクリーン ショットに示すようにします。</span><span class="sxs-lookup"><span data-stu-id="0f996-128">Both can be found in Firebase Console -> Project -> Settings, under the Cloud Messaging tab, as shown in the screenshot.</span></span>
<span data-ttu-id="0f996-129">![クロス デバイス エクスペリエンス: プッシュの資格情報](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span><span class="sxs-lookup"><span data-stu-id="0f996-129">![Cross-Device Experiences – Push Credentials](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span></span>

* <span data-ttu-id="0f996-130">最後の手順では、アプリではこのドメインの所有権に登録されているアプリのクロス デバイス アプリ id のように機能することを証明する検証プロセスとして機能するクロス デバイス アプリ ドメインを確認します。</span><span class="sxs-lookup"><span data-stu-id="0f996-130">The last step is to verify your cross-device app domain, which serves as a verification process to prove that your app has the ownership of this domain which acts like a cross-device app identity for the app you registered.</span></span>
<span data-ttu-id="0f996-131">![クロス デバイス エクスペリエンス: ドメインの確認](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span><span class="sxs-lookup"><span data-stu-id="0f996-131">![Cross-Device Experiences – Domain Verification](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span></span>
